%3C%3Fphp%0D%0A%2F*%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D*%5C%0D%0A%7C%7C%20%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%20%7C%7C%0D%0A%7C%7C%20%23%20MYSQL%20LOGIN%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20%7C%7C%0D%0A%7C%7C%20%23%20------------------------------%20%23%20%7C%7C%0D%0A%7C%7C%20%23%20Code%20by%20VuThanhLai%09%09%20%20%20%20%23%20%7C%7C%0D%0A%7C%7C%20%23%20Y!m%20%3A%20KiUcTinhYeu_1811%09%20%20%20%20%23%20%7C%7C%0D%0A%7C%7C%20%23%20website%3Awww.tanphu.net%20%20%20%20%20%20%20%20%23%20%7C%7C%0D%0A%7C%7C%20%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%20%7C%7C%0D%0A%5C*%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D*%2F%0D%0A%2F%2F%20Path%20and%20URL%20to%20files%20wrong%0D%0Adefine(\'PATH\'%2C%20\'upload%2F\')%3B%0D%0Adefine(\'URL\'%2C%20%20\'upload%2F\')%3B%0D%0A%2F%2F%20Maximum%20runtime%20seconds%0D%0A%2F%2F%200%20-%20No%20limitations%0D%0Adefine(\'TIME_LIMIT\'%2C%201500)%3B%0D%0A%2F%2F%20Limiting%20the%20amount%20of%20data%20dostavaemyh%20one%20treatment%20to%20DB%20(in%20megabytes)%0D%0A%2F%2F%20It%20is%20to%20limit%20the%20number%20of%20memory%20pozhiraemoy%20server%20stack%20with%20a%20very%20large%20tables%0D%0Adefine(\'LIMIT\'%2C%201)%3B%0D%0A%2F%2F%20mysql%20server%0D%0Adefine(\'DBHOST\'%2C%20\'mysql51-028.wc1.ord1.stabletransit.com%3A3306\')%3B%0D%0A%2F%2F%20Databases%2C%20if%20the%20server%20does%20not%20allow%20browse%20the%20list%20of%20databases%2C%0D%0A%2F%2F%20and%20nothing%20shows%20up%20after%20authorization.%20List%20the%20names%20with%20a%20comma%20%0D%0Adefine(\'DBNAMES\'%2C%20\'889313_betterthisblog\')%3B%0D%0A%2F%2F%20Encoding%20connections%20to%20MySQL%0D%0A%2F%2F%20auto-automatic%20(a%20coding%20table)%2C%20cp1251-windows-1251%2C%20etc.%0D%0Adefine(\'CHARSET\'%2C%20\'auto\')%3B%0D%0A%2F%2F%20Encoding%20connections%20to%20MySQL%20recovery%0D%0A%2F%2F%20If%20a%20transfer%20from%20old%20versions%20of%20MySQL%20(up%20to%204.1)%2C%20which%20is%20not%20specified%20encoding%20tables%20in%20the%20dump%0D%0A%2F%2F%20Adding%20\'forced-%3E\'%2C%20for%20example%20\'forced-%3E%20cp1251\'%2C%20encoding%20tables%20in%20the%20reconstruction%20will%20be%20forcibly%20replaced%20by%20cp1251%0D%0A%2F%2F%20You%20can%20also%20specify%20comparison%20of%20the%20right%20to%20suit%20\'cp1251_ukrainian_ci\'%20or%20\'forced-%3E%20cp1251_ukrainian_ci\'%0D%0Adefine(\'RESTORE_CHARSET\'%2C%20\'latin1\')%3B%0D%0A%2F%2F%20Include%20your%20persistence%20and%20the%20latest%20action%0D%0A%2F%2F%20To%20turn%20set%200%0D%0Adefine(\'SC\'%2C%201)%3B%0D%0A%2F%2F%20Types%20tables%20have%20been%20maintained%20only%20structure%20separated%20semicolon%0D%0Adefine(\'ONLY_CREATE\'%2C%20\'MRG_MyISAM%2CMERGE%2CHEAP%2CMEMORY\')%3B%0D%0A%2F%2F%20Global%20statistics%0D%0A%2F%2F%20To%20turn%20set%200%0D%0Adefine(\'GS\'%2C%201)%3B%0D%0A%0D%0A%0D%0A%2F%2F%20Forward%20does%20not%20need%20editing%0D%0A%0D%0A%24is_safe_mode%20%3D%20ini_get(\'safe_mode\')%20%3D%3D%20\'1\'%20%3F%201%20%3A%200%3B%0D%0Aif%20(!%24is_safe_mode%20%26%26%20function_exists(\'set_time_limit\'))%20set_time_limit(TIME_LIMIT)%3B%0D%0A%0D%0A%0D%0A%0D%0A%24timer%20%3D%20array_sum(explode(\'%20\'%2C%20microtime()))%3B%0D%0Aob_implicit_flush()%3B%0D%0Aerror_reporting(E_ALL)%3B%0D%0A%0D%0A%24auth%20%3D%200%3B%0D%0A%24error%20%3D%20\'\'%3B%0D%0Aif%20(!empty(%24_POST%5B\'login\'%5D)%20%26%26%20isset(%24_POST%5B\'pass\'%5D))%20%7B%0D%0A%09if%20(%40mysql_connect(DBHOST%2C%20%24_POST%5B\'login\'%5D%2C%20%24_POST%5B\'pass\'%5D))%7B%0D%0A%09%09setcookie(%22sxd%22%2C%20base64_encode(%22SKD101%3A%7B%24_POST%5B\'login\'%5D%7D%3A%7B%24_POST%5B\'pass\'%5D%7D%22))%3B%0D%0A%09%09header(%22Location%3A%20%22.%24_SERVER%5B\'PHP_SELF\'%5D)%3B%0D%0A%09%09mysql_close()%3B%0D%0A%09%09exit%3B%0D%0A%09%7D%0D%0A%09else%7B%0D%0A%09%09%24error%20%3D%20\'%23\'%20.%20mysql_errno()%20.%20\'%3A%20\'%20.%20mysql_error()%3B%0D%0A%09%7D%0D%0A%7D%0D%0Aelseif%20(!empty(%24_COOKIE%5B\'sxd\'%5D))%20%7B%0D%0A%20%20%20%20%24user%20%3D%20explode(%22%3A%22%2C%20base64_decode(%24_COOKIE%5B\'sxd\'%5D))%3B%0D%0A%09if%20(%40mysql_connect(DBHOST%2C%20%24user%5B1%5D%2C%20%24user%5B2%5D))%7B%0D%0A%09%09%24auth%20%3D%201%3B%0D%0A%09%7D%0D%0A%09else%7B%0D%0A%09%09%24error%20%3D%20\'%23\'%20.%20mysql_errno()%20.%20\'%3A%20\'%20.%20mysql_error()%3B%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0Aif%20(!%24auth%20%7C%7C%20(isset(%24_SERVER%5B\'QUERY_STRING\'%5D)%20%26%26%20%24_SERVER%5B\'QUERY_STRING\'%5D%20%3D%3D%20\'reload\'))%20%7B%0D%0A%09%0D%0A%09echo%20tpl_page(tpl_auth(%24error%20%3F%20tpl_error(%24error)%20%3A%20\'\')%2C%20%22%3CSCRIPT%3Eif%20(jsEnabled)%20%7Bdocument.write(\'%3CINPUT%20TYPE%3Dsubmit%20VALUE%3DLogin%3E\')%3B%7D%3C%2FSCRIPT%3E%22)%3B%0D%0A%09echo%20%22%3CSCRIPT%3Edocument.getElementById(\'timer\').innerHTML%20%3D%20\'%22%20.%20round(array_sum(explode(\'%20\'%2C%20microtime()))%20-%20%24timer%2C%204)%20.%20%22%20sec.\'%3C%2FSCRIPT%3E%22%3B%0D%0A%09exit%3B%0D%0A%7D%0D%0Aif%20(!file_exists(PATH)%20%26%26%20!%24is_safe_mode)%20%7B%0D%0A%20%20%20%20mkdir(PATH%2C%200777)%20%7C%7C%20trigger_error(%22Unable%20to%20create%20a%20directory%20for%20printer%20%22%2C%20E_USER_ERROR)%3B%0D%0A%7D%0D%0A%0D%0A%24SK%20%3D%20new%20dumper()%3B%0D%0Adefine(\'C_DEFAULT\'%2C%201)%3B%0D%0Adefine(\'C_RESULT\'%2C%202)%3B%0D%0Adefine(\'C_ERROR\'%2C%203)%3B%0D%0Adefine(\'C_WARNING\'%2C%204)%3B%0D%0A%0D%0A%24action%20%3D%20isset(%24_REQUEST%5B\'action\'%5D)%20%3F%20%24_REQUEST%5B\'action\'%5D%20%3A%20\'\'%3B%0D%0Aswitch(%24action)%7B%0D%0A%09case%20\'backup\'%3A%0D%0A%09%09%24SK-%3Ebackup()%3B%0D%0A%09%09break%3B%0D%0A%09case%20\'restore\'%3A%0D%0A%09%09%24SK-%3Erestore()%3B%0D%0A%09%09break%3B%0D%0A%09default%3A%0D%0A%09%09%24SK-%3Emain()%3B%0D%0A%7D%0D%0A%0D%0Amysql_close()%3B%0D%0A%0D%0Aecho%20%22%3CSCRIPT%3Edocument.getElementById(\'timer\').innerHTML%20%3D%20\'%22%20.%20round(array_sum(explode(\'%20\'%2C%20microtime()))%20-%20%24timer%2C%204)%20.%20%22%20sec.\'%3C%2FSCRIPT%3E%22%3B%0D%0A%0D%0Aclass%20dumper%20%7B%0D%0A%09function%20dumper()%20%7B%0D%0A%09%09if%20(file_exists(PATH%20.%20%22dumper.cfg.php%22))%20%7B%0D%0A%09%09%20%20%20%20include(PATH%20.%20%22dumper.cfg.php%22)%3B%0D%0A%09%09%7D%0D%0A%09%09else%7B%0D%0A%09%09%09%24this-%3ESET%5B\'last_action\'%5D%20%3D%200%3B%0D%0A%09%09%09%24this-%3ESET%5B\'last_db_backup\'%5D%20%3D%20\'\'%3B%0D%0A%09%09%09%24this-%3ESET%5B\'tables\'%5D%20%3D%20\'\'%3B%0D%0A%09%09%09%24this-%3ESET%5B\'comp_method\'%5D%20%3D%202%3B%0D%0A%09%09%09%24this-%3ESET%5B\'comp_level\'%5D%20%20%3D%207%3B%0D%0A%09%09%09%24this-%3ESET%5B\'last_db_restore\'%5D%20%3D%20\'\'%3B%0D%0A%09%09%7D%0D%0A%09%09%24this-%3Etabs%20%3D%200%3B%0D%0A%09%09%24this-%3Erecords%20%3D%200%3B%0D%0A%09%09%24this-%3Esize%20%3D%200%3B%0D%0A%09%09%24this-%3Ecomp%20%3D%200%3B%0D%0A%0D%0A%09%09%2F%2F%20MySQL%20type%2040101%0D%0A%09%09preg_match(%22%2F%5E(%5Cd%2B)%5C.(%5Cd%2B)%5C.(%5Cd%2B)%2F%22%2C%20mysql_get_server_info()%2C%20%24m)%3B%0D%0A%09%09%24this-%3Emysql_version%20%3D%20sprintf(%22%25d%2502d%2502d%22%2C%20%24m%5B1%5D%2C%20%24m%5B2%5D%2C%20%24m%5B3%5D)%3B%0D%0A%0D%0A%09%09%24this-%3Eonly_create%20%3D%20explode(\'%2C\'%2C%20ONLY_CREATE)%3B%0D%0A%09%09%24this-%3Eforced_charset%20%20%3D%20false%3B%0D%0A%09%09%24this-%3Erestore_charset%20%3D%20%24this-%3Erestore_collate%20%3D%20\'\'%3B%0D%0A%09%09if%20(preg_match(%22%2F%5E(forced-%3E)%3F((%5Ba-z0-9%5D%2B)(%5C_%5Cw%2B)%3F)%24%2F%22%2C%20RESTORE_CHARSET%2C%20%24matches))%20%7B%0D%0A%09%09%09%24this-%3Eforced_charset%20%20%3D%20%24matches%5B1%5D%20%3D%3D%20\'forced-%3E\'%3B%0D%0A%09%09%09%24this-%3Erestore_charset%20%3D%20%24matches%5B3%5D%3B%0D%0A%09%09%09%24this-%3Erestore_collate%20%3D%20!empty(%24matches%5B4%5D)%20%3F%20\'%20COLLATE%20\'%20.%20%24matches%5B2%5D%20%3A%20\'\'%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09function%20backup()%20%7B%0D%0A%09%09if%20(!isset(%24_POST))%20%7B%24this-%3Emain()%3B%7D%0D%0A%09%09set_error_handler(%22SXD_errorHandler%22)%3B%0D%0A%09%09%24buttons%20%3D%20%22%3CA%20ID%3Dsave%20HREF%3D\'\'%20STYLE%3D\'display%3A%20none%3B\'%3EDownload%20File%3C%2FA%3E%20%26nbsp%3B%20%3CINPUT%20ID%3Dback%20TYPE%3Dbutton%20VALUE%3D\'Tr%26%237903%3B%20V%26%237873%3B\'%20DISABLED%20onClick%3D%5C%22history.back()%3B%5C%22%3E%22%3B%0D%0A%09%09echo%20tpl_page(tpl_process(%22Xin%20vui%20l%26ograve%3Bng%20ch%26%237901%3B%20%26%23273%3B%26%237907%3Bi%20trong%20gi%26acirc%3By%20l%26aacute%3Bt...%20%22)%2C%20%24buttons)%3B%0D%0A%0D%0A%09%09%24this-%3ESET%5B\'last_action\'%5D%20%20%20%20%20%3D%200%3B%0D%0A%09%09%24this-%3ESET%5B\'last_db_backup\'%5D%20%20%3D%20isset(%24_POST%5B\'db_backup\'%5D)%20%3F%20%24_POST%5B\'db_backup\'%5D%20%3A%20\'\'%3B%0D%0A%09%09%24this-%3ESET%5B\'tables_exclude\'%5D%20%20%3D%20!empty(%24_POST%5B\'tables\'%5D)%20%26%26%20%24_POST%5B\'tables\'%5D%7B0%7D%20%3D%3D%20\'%5E\'%20%3F%201%20%3A%200%3B%0D%0A%09%09%24this-%3ESET%5B\'tables\'%5D%20%20%20%20%20%20%20%20%20%20%3D%20isset(%24_POST%5B\'tables\'%5D)%20%3F%20%24_POST%5B\'tables\'%5D%20%3A%20\'\'%3B%0D%0A%09%09%24this-%3ESET%5B\'comp_method\'%5D%20%20%20%20%20%3D%20isset(%24_POST%5B\'comp_method\'%5D)%20%3F%20intval(%24_POST%5B\'comp_method\'%5D)%20%3A%200%3B%0D%0A%09%09%24this-%3ESET%5B\'comp_level\'%5D%20%20%20%20%20%20%3D%20isset(%24_POST%5B\'comp_level\'%5D)%20%3F%20intval(%24_POST%5B\'comp_level\'%5D)%20%3A%200%3B%0D%0A%09%09%24this-%3Efn_save()%3B%0D%0A%0D%0A%09%09%24this-%3ESET%5B\'tables\'%5D%20%20%20%20%20%20%20%20%20%20%3D%20explode(%22%2C%22%2C%20%24this-%3ESET%5B\'tables\'%5D)%3B%0D%0A%09%09if%20(!empty(%24_POST%5B\'tables\'%5D))%20%7B%0D%0A%09%09%20%20%20%20foreach(%24this-%3ESET%5B\'tables\'%5D%20AS%20%24table)%7B%0D%0A%20%20%20%20%09%09%09%24table%20%3D%20preg_replace(%22%2F%5B%5E%5Cw*%3F%5E%5D%2F%22%2C%20%22%22%2C%20%24table)%3B%0D%0A%09%09%09%09%24pattern%20%3D%20array(%20%22%2F%5C%3F%2F%22%2C%20%22%2F%5C*%2F%22)%3B%0D%0A%09%09%09%09%24replace%20%3D%20array(%20%22.%22%2C%20%22.*%3F%22)%3B%0D%0A%09%09%09%09%24tbls%5B%5D%20%3D%20preg_replace(%24pattern%2C%20%24replace%2C%20%24table)%3B%0D%0A%20%20%20%20%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09else%7B%0D%0A%09%09%09%24this-%3ESET%5B\'tables_exclude\'%5D%20%3D%201%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(%24this-%3ESET%5B\'comp_level\'%5D%20%3D%3D%200)%20%7B%0D%0A%09%09%20%20%20%20%24this-%3ESET%5B\'comp_method\'%5D%20%3D%200%3B%0D%0A%09%09%7D%0D%0A%09%09%24db%20%3D%20%24this-%3ESET%5B\'last_db_backup\'%5D%3B%0D%0A%0D%0A%09%09if%20(!%24db)%20%7B%0D%0A%09%09%09echo%20tpl_l(%22ERROR!%20No%20database!%22%2C%20C_ERROR)%3B%0D%0A%09%09%09echo%20tpl_enableBack()%3B%0D%0A%09%09%20%20%20%20exit%3B%0D%0A%09%09%7D%0D%0A%09%09echo%20tpl_l(%22%26%23272%3Bang%20k%26%237871%3Bt%20n%26%237889%3Bi%20c%26%23417%3B%20s%26%237903%3B%20d%26%237919%3B%20li%26%237879%3Bu.%22)%3B%0D%0A%09%09mysql_select_db(%24db)%20or%20trigger_error%20(%22Unable%20to%20select%20database.%3CBR%3E%22%20.%20mysql_error()%2C%20E_USER_ERROR)%3B%0D%0A%09%09%24tables%20%3D%20array()%3B%0D%0A%20%20%20%20%20%20%20%20%24result%20%3D%20mysql_query(%22SHOW%20TABLES%22)%3B%0D%0A%09%09%24all%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20while(%24row%20%3D%20mysql_fetch_array(%24result))%20%7B%0D%0A%09%09%09%24status%20%3D%200%3B%0D%0A%09%09%09if%20(!empty(%24tbls))%20%7B%0D%0A%09%09%09%20%20%20%20foreach(%24tbls%20AS%20%24table)%7B%0D%0A%20%20%20%20%09%09%09%09%24exclude%20%3D%20preg_match(%22%2F%5E%5C%5E%2F%22%2C%20%24table)%20%3F%20true%20%3A%20false%3B%0D%0A%20%20%20%20%09%09%09%09if%20(!%24exclude)%20%7B%0D%0A%20%20%20%20%09%09%09%09%09if%20(preg_match(%22%2F%5E%7B%24table%7D%24%2Fi%22%2C%20%24row%5B0%5D))%20%7B%0D%0A%20%20%20%20%09%09%09%09%09%20%20%20%20%24status%20%3D%201%3B%0D%0A%20%20%20%20%09%09%09%09%09%7D%0D%0A%20%20%20%20%09%09%09%09%09%24all%20%3D%201%3B%0D%0A%20%20%20%20%09%09%09%09%7D%0D%0A%20%20%20%20%09%09%09%09if%20(%24exclude%20%26%26%20preg_match(%22%2F%7B%24table%7D%24%2Fi%22%2C%20%24row%5B0%5D))%20%7B%0D%0A%20%20%20%20%09%09%09%09%20%20%20%20%24status%20%3D%20-1%3B%0D%0A%20%20%20%20%09%09%09%09%7D%0D%0A%20%20%20%20%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09%24status%20%3D%201%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if%20(%24status%20%3E%3D%20%24all)%20%7B%0D%0A%20%20%20%20%09%09%09%24tables%5B%5D%20%3D%20%24row%5B0%5D%3B%0D%0A%20%20%20%20%09%09%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%09%09%24tabs%20%3D%20count(%24tables)%3B%0D%0A%09%09%2F%2F%20Determination%20of%20tables%0D%0A%09%09%24result%20%3D%20mysql_query(%22SHOW%20TABLE%20STATUS%22)%3B%0D%0A%09%09%24tabinfo%20%3D%20array()%3B%0D%0A%09%09%24tab_charset%20%3D%20array()%3B%0D%0A%09%09%24tab_type%20%3D%20array()%3B%0D%0A%09%09%24tabinfo%5B0%5D%20%3D%200%3B%0D%0A%09%09%24info%20%3D%20\'\'%3B%0D%0A%09%09while(%24item%20%3D%20mysql_fetch_assoc(%24result))%7B%0D%0A%09%09%09%2F%2Fprint_r(%24item)%3B%0D%0A%09%09%09if(in_array(%24item%5B\'Name\'%5D%2C%20%24tables))%20%7B%0D%0A%09%09%09%09%24item%5B\'Rows\'%5D%20%3D%20empty(%24item%5B\'Rows\'%5D)%20%3F%200%20%3A%20%24item%5B\'Rows\'%5D%3B%0D%0A%09%09%09%09%24tabinfo%5B0%5D%20%2B%3D%20%24item%5B\'Rows\'%5D%3B%0D%0A%09%09%09%09%24tabinfo%5B%24item%5B\'Name\'%5D%5D%20%3D%20%24item%5B\'Rows\'%5D%3B%0D%0A%09%09%09%09%24this-%3Esize%20%2B%3D%20%24item%5B\'Data_length\'%5D%3B%0D%0A%09%09%09%09%24tabsize%5B%24item%5B\'Name\'%5D%5D%20%3D%201%20%2B%20round(LIMIT%20*%201048576%20%2F%20(%24item%5B\'Avg_row_length\'%5D%20%2B%201))%3B%0D%0A%09%09%09%09if(%24item%5B\'Rows\'%5D)%20%24info%20.%3D%20%22%7C%22%20.%20%24item%5B\'Rows\'%5D%3B%0D%0A%09%09%09%09if%20(!empty(%24item%5B\'Collation\'%5D)%20%26%26%20preg_match(%22%2F%5E(%5Ba-z0-9%5D%2B)_%2Fi%22%2C%20%24item%5B\'Collation\'%5D%2C%20%24m))%20%7B%0D%0A%09%09%09%09%09%24tab_charset%5B%24item%5B\'Name\'%5D%5D%20%3D%20%24m%5B1%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%24tab_type%5B%24item%5B\'Name\'%5D%5D%20%3D%20isset(%24item%5B\'Engine\'%5D)%20%3F%20%24item%5B\'Engine\'%5D%20%3A%20%24item%5B\'Type\'%5D%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09%24show%20%3D%2010%20%2B%20%24tabinfo%5B0%5D%20%2F%2050%3B%0D%0A%09%09%24info%20%3D%20%24tabinfo%5B0%5D%20.%20%24info%3B%0D%0A%09%09%24name%20%3D%20%24db%20.%20\'_\'%20.%20date(%22Y-m-d_H-i%22)%3B%0D%0A%20%20%20%20%20%20%20%20%24fp%20%3D%20%24this-%3Efn_open(%24name%2C%20%22w%22)%3B%0D%0A%09%09echo%20tpl_l(%22B%26%237855%3Bt%20%26%23273%3B%26%237847%3Bu%20t%26%237841%3Bo%20t%26ecirc%3Bn%20c%26%23417%3B%20s%26%237903%3B%20d%26%237919%3B%20li%26%237879%3Bu%20%3A%3CBR%3E%5C%5Cn%20%20-%20%20%7B%24this-%3Efilename%7D%22)%3B%0D%0A%09%09%24this-%3Efn_write(%24fp%2C%20%22%23SKD101%7C%7B%24db%7D%7C%7B%24tabs%7D%7C%22%20.%20date(%22Y.m.d%20H%3Ai%3As%22)%20.%22%7C%7B%24info%7D%5Cn%5Cn%22)%3B%0D%0A%09%09%24t%3D0%3B%0D%0A%09%09echo%20tpl_l(str_repeat(%22-%22%2C%2060))%3B%0D%0A%09%09%24result%20%3D%20mysql_query(%22SET%20SQL_QUOTE_SHOW_CREATE%20%3D%201%22)%3B%0D%0A%09%09%2F%2F%20Encoding%20connections%20by%20default%0D%0A%09%09if%20(%24this-%3Emysql_version%20%3E%2040101%20%26%26%20CHARSET%20!%3D%20\'auto\')%20%7B%0D%0A%09%09%09mysql_query(%22SET%20NAMES%20\'%22%20.%20CHARSET%20.%20%22\'%22)%20or%20trigger_error%20(%22Cannot%20set%20the%20encoding%20for%20the%20connection.%3CBR%3E%22%20.%20mysql_error()%2C%20E_USER_ERROR)%3B%0D%0A%09%09%09%24last_charset%20%3D%20CHARSET%3B%0D%0A%09%09%7D%0D%0A%09%09else%7B%0D%0A%09%09%09%24last_charset%20%3D%20\'\'%3B%0D%0A%09%09%7D%0D%0A%20%20%20%20%20%20%20%20foreach%20(%24tables%20AS%20%24table)%7B%0D%0A%09%09%09%2F%2F%20Bill%20encoding%20connecting%20the%20encoding%20tables%0D%0A%09%09%09if%20(%24this-%3Emysql_version%20%3E%2040101%20%26%26%20%24tab_charset%5B%24table%5D%20!%3D%20%24last_charset)%20%7B%0D%0A%09%09%09%09if%20(CHARSET%20%3D%3D%20\'auto\')%20%7B%0D%0A%09%09%09%09%09mysql_query(%22SET%20NAMES%20\'%22%20.%20%24tab_charset%5B%24table%5D%20.%20%22\'%22)%20or%20trigger_error%20(%22Cannot%20set%20the%20encoding%20for%20the%20connection.%3CBR%3E%22%20.%20mysql_error()%2C%20E_USER_ERROR)%3B%0D%0A%09%09%09%09%09echo%20tpl_l(%22Using%20encoding%20%60%22%20.%20%24tab_charset%5B%24table%5D%20.%20%22%60.%22%2C%20C_WARNING)%3B%0D%0A%09%09%09%09%09%24last_charset%20%3D%20%24tab_charset%5B%24table%5D%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09else%7B%0D%0A%09%09%09%09%09echo%20tpl_l(\'Encoding%20connections%2C%20and%20the%20table%20does%20not%20match%3A\'%2C%20C_ERROR)%3B%0D%0A%09%09%09%09%09echo%20tpl_l(\'Table%20%20%60\'.%20%24table%20.\'%60%20-%3E%20\'%20.%20%24tab_charset%5B%24table%5D%20.%20\'%20(Connection%20%20\'%20%20.%20CHARSET%20.%20\')\'%2C%20C_ERROR)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%09echo%20tpl_l(%22Processing%20Table%60%7B%24table%7D%60%20%5B%22%20.%20fn_int(%24tabinfo%5B%24table%5D)%20.%20%22%5D.%22)%3B%0D%0A%20%20%20%20%20%20%20%20%09%2F%2F%20Creating%20tables%20%0D%0A%09%09%09%24result%20%3D%20mysql_query(%22SHOW%20CREATE%20TABLE%20%60%7B%24table%7D%60%22)%3B%0D%0A%20%20%20%20%20%20%20%20%09%24tab%20%3D%20mysql_fetch_array(%24result)%3B%0D%0A%09%09%09%24tab%20%3D%20preg_replace(\'%2F(default%20CURRENT_TIMESTAMP%20on%20update%20CURRENT_TIMESTAMP%7CDEFAULT%20CHARSET%3D%5Cw%2B%7CCOLLATE%3D%5Cw%2B%7Ccharacter%20set%20%5Cw%2B%7Ccollate%20%5Cw%2B)%2Fi\'%2C%20\'%2F*!40101%20%5C%5C1%20*%2F\'%2C%20%24tab)%3B%0D%0A%20%20%20%20%20%20%20%20%09%24this-%3Efn_write(%24fp%2C%20%22DROP%20TABLE%20IF%20EXISTS%20%60%7B%24table%7D%60%3B%5Cn%7B%24tab%5B1%5D%7D%3B%5Cn%5Cn%22)%3B%0D%0A%20%20%20%20%20%20%20%20%09%2F%2F%20Checking%20whether%20dampit%20data%0D%0A%20%20%20%20%20%20%20%20%09if%20(in_array(%24tab_type%5B%24table%5D%2C%20%24this-%3Eonly_create))%20%7B%0D%0A%09%09%09%09continue%3B%0D%0A%09%09%09%7D%0D%0A%20%20%20%20%20%20%20%20%09%2F%2F%20Oprededelyaem%20types%20of%20columns%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24NumericColumn%20%3D%20array()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24result%20%3D%20mysql_query(%22SHOW%20COLUMNS%20FROM%20%60%7B%24table%7D%60%22)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24field%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20while(%24col%20%3D%20mysql_fetch_row(%24result))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%24NumericColumn%5B%24field%2B%2B%5D%20%3D%20preg_match(%22%2F%5E(%5Cw*int%7Cyear)%2F%22%2C%20%24col%5B1%5D)%20%3F%201%20%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%09%09%09%24fields%20%3D%20%24field%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24from%20%3D%200%3B%0D%0A%09%09%09%24limit%20%3D%20%24tabsize%5B%24table%5D%3B%0D%0A%09%09%09%24limit2%20%3D%20round(%24limit%20%2F%203)%3B%0D%0A%09%09%09if%20(%24tabinfo%5B%24table%5D%20%3E%200)%20%7B%0D%0A%09%09%09if%20(%24tabinfo%5B%24table%5D%20%3E%20%24limit2)%20%7B%0D%0A%09%09%09%20%20%20%20echo%20tpl_s(0%2C%20%24t%20%2F%20%24tabinfo%5B0%5D)%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%24i%20%3D%200%3B%0D%0A%09%09%09%24this-%3Efn_write(%24fp%2C%20%22INSERT%20INTO%20%60%7B%24table%7D%60%20VALUES%22)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20while((%24result%20%3D%20mysql_query(%22SELECT%20*%20FROM%20%60%7B%24table%7D%60%20LIMIT%20%7B%24from%7D%2C%20%7B%24limit%7D%22))%20%26%26%20(%24total%20%3D%20mysql_num_rows(%24result)))%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09while(%24row%20%3D%20mysql_fetch_row(%24result))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%09%24i%2B%2B%3B%0D%0A%20%20%20%20%09%09%09%09%09%24t%2B%2B%3B%0D%0A%0D%0A%09%09%09%09%09%09for(%24k%20%3D%200%3B%20%24k%20%3C%20%24fields%3B%20%24k%2B%2B)%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%09%09if%20(%24NumericColumn%5B%24k%5D)%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%09%09%20%20%20%20%24row%5B%24k%5D%20%3D%20isset(%24row%5B%24k%5D)%20%3F%20%24row%5B%24k%5D%20%3A%20%22NULL%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%09%09else%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%09%09%09%24row%5B%24k%5D%20%3D%20isset(%24row%5B%24k%5D)%20%3F%20%22\'%22%20.%20mysql_escape_string(%24row%5B%24k%5D)%20.%20%22\'%22%20%3A%20%22NULL%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%09%7D%0D%0A%0D%0A%20%20%20%20%09%09%09%09%09%24this-%3Efn_write(%24fp%2C%20(%24i%20%3D%3D%201%20%3F%20%22%22%20%3A%20%22%2C%22)%20.%20%22%5Cn(%22%20.%20implode(%22%2C%20%22%2C%20%24row)%20.%20%22)%22)%3B%0D%0A%20%20%20%20%09%09%09%09%09if%20(%24i%20%25%20%24limit2%20%3D%3D%200)%0D%0A%20%20%20%20%09%09%09%09%09%09echo%20tpl_s(%24i%20%2F%20%24tabinfo%5B%24table%5D%2C%20%24t%20%2F%20%24tabinfo%5B0%5D)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%09%09%7D%0D%0A%09%09%09%09%09mysql_free_result(%24result)%3B%0D%0A%09%09%09%09%09if%20(%24total%20%3C%20%24limit)%20%7B%0D%0A%09%09%09%09%09%20%20%20%20break%3B%0D%0A%09%09%09%09%09%7D%0D%0A%20%20%20%20%09%09%09%09%24from%20%2B%3D%20%24limit%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%09%09%09%24this-%3Efn_write(%24fp%2C%20%22%3B%5Cn%5Cn%22)%3B%0D%0A%20%20%20%20%09%09echo%20tpl_s(1%2C%20%24t%20%2F%20%24tabinfo%5B0%5D)%3B%7D%0D%0A%09%09%7D%0D%0A%09%09%24this-%3Etabs%20%3D%20%24tabs%3B%0D%0A%09%09%24this-%3Erecords%20%3D%20%24tabinfo%5B0%5D%3B%0D%0A%09%09%24this-%3Ecomp%20%3D%20%24this-%3ESET%5B\'comp_method\'%5D%20*%2010%20%2B%20%24this-%3ESET%5B\'comp_level\'%5D%3B%0D%0A%20%20%20%20%20%20%20%20echo%20tpl_s(1%2C%201)%3B%0D%0A%20%20%20%20%20%20%20%20echo%20tpl_l(str_repeat(%22-%22%2C%2060))%3B%0D%0A%20%20%20%20%20%20%20%20%24this-%3Efn_close(%24fp)%3B%0D%0A%09%09echo%20tpl_l(%22%3Cb%3EQu%26aacute%3B%20tr%26igrave%3Bnh%20x%26%237917%3B%20l%26yacute%3B%20c%26%23417%3B%20s%26%237903%3B%20d%26%237919%3B%20li%26%237879%3Bu%20%60%7B%24db%7D%60%20%26%23273%3B%26atilde%3B%20th%26agrave%3Bnh%20c%26ocirc%3Bng.%3C%2Fb%3E%22%2C%20C_RESULT)%3B%0D%0A%09%09echo%20tpl_l(%22Size%20of%20DB%20%3A%20%22%20.%20round(%24this-%3Esize%20%2F%201048576%2C%202)%20.%20%22.%22%2C%20C_RESULT)%3B%0D%0A%09%09%24filesize%20%3D%20round(filesize(PATH%20.%20%24this-%3Efilename)%20%2F%201048576%2C%202)%20.%20%22.%22%3B%0D%0A%09%09echo%20tpl_l(%22Size%20of%20file%20%3A%20%7B%24filesize%7D%22%2C%20C_RESULT)%3B%0D%0A%09%09echo%20tpl_l(%22Tables%20processed%20%3A%20%7B%24tabs%7D%22%2C%20C_RESULT)%3B%0D%0A%09%09echo%20tpl_l(%22Lines%20processed%20%3A%20%20%20%22%20.%20fn_int(%24tabinfo%5B0%5D)%2C%20C_RESULT)%3B%0D%0A%09%09echo%20%22%3CSCRIPT%3Ewith%20(document.getElementById(\'save\'))%20%7Bstyle.display%20%3D%20\'\'%3B%20innerHTML%20%3D%20\'%3Cfont%20color%3Dred%3ET%26%237843%3Bi%20c%26%23417%3B%20s%26%237903%3B%20d%26%237919%3B%20li%26%237879%3Bu%20v%26%237873%3B%20m%26aacute%3By%3C%2Ffont%3E%20(%7B%24filesize%7D)\'%3B%20href%20%3D%20\'%22%20.%20URL%20.%20%24this-%3Efilename%20.%20%22\'%3B%20%7Ddocument.getElementById(\'back\').disabled%20%3D%200%3B%3C%2FSCRIPT%3E%22%3B%0D%0A%09%09%2F%2F%20Data%20Transfer%20for%20global%20statistics%20%0D%0A%09%09if%20(GS)%20echo%20%22%3CSCRIPT%3Edocument.getElementById(\'GS\').src%20%3D%20\'http%3A%2F%2Fsypex.net%2Fgs.php%3Fb%3D%7B%24this-%3Etabs%7D%2C%7B%24this-%3Erecords%7D%2C%7B%24this-%3Esize%7D%2C%7B%24this-%3Ecomp%7D%2C108\'%3B%3C%2FSCRIPT%3E%22%3B%0D%0A%0D%0A%09%7D%0D%0A%0D%0A%09function%20restore()%7B%0D%0A%09%09if%20(!isset(%24_POST))%20%7B%24this-%3Emain()%3B%7D%0D%0A%09%09set_error_handler(%22SXD_errorHandler%22)%3B%0D%0A%09%09%24buttons%20%3D%20%22%3CINPUT%20ID%3Dback%20TYPE%3Dbutton%20VALUE%3D\'Back\'%20DISABLED%20onClick%3D%5C%22history.back()%3B%5C%22%3E%22%3B%0D%0A%09%09echo%20tpl_page(tpl_process(%22Restoring%20database%20backup%22)%2C%20%24buttons)%3B%0D%0A%0D%0A%09%09%24this-%3ESET%5B\'last_action\'%5D%20%20%20%20%20%3D%201%3B%0D%0A%09%09%24this-%3ESET%5B\'last_db_restore\'%5D%20%3D%20isset(%24_POST%5B\'db_restore\'%5D)%20%3F%20%24_POST%5B\'db_restore\'%5D%20%3A%20\'\'%3B%0D%0A%09%09%24file%09%09%09%09%09%09%20%20%3D%20isset(%24_POST%5B\'file\'%5D)%20%3F%20%24_POST%5B\'file\'%5D%20%3A%20\'\'%3B%0D%0A%09%09%24this-%3Efn_save()%3B%0D%0A%09%09%24db%20%3D%20%24this-%3ESET%5B\'last_db_restore\'%5D%3B%0D%0A%0D%0A%09%09if%20(!%24db)%20%7B%0D%0A%09%09%09echo%20tpl_l(%22ERROR!%20No%20database!%22%2C%20C_ERROR)%3B%0D%0A%09%09%09echo%20tpl_enableBack()%3B%0D%0A%09%09%20%20%20%20exit%3B%0D%0A%09%09%7D%0D%0A%09%09echo%20tpl_l(%22%26%23272%3Bang%20k%26%237871%3Bt%20n%26%237889%3Bi%20c%26%23417%3B%20s%26%237903%3B%20d%26%237919%3B%20li%26%237879%3Bu%20%60%7B%24db%7D%60.%22)%3B%0D%0A%09%09mysql_select_db(%24db)%20or%20trigger_error%20(%22Unable%20to%20select%20database.%20.%3CBR%3E%22%20.%20mysql_error()%2C%20E_USER_ERROR)%3B%0D%0A%0D%0A%09%09%2F%2F%20Definition%20file%20format%0D%0A%09%09if(preg_match(%22%2F%5E(.%2B%3F)%5C.sql(%5C.(bz2%7Cgz))%3F%24%2F%22%2C%20%24file%2C%20%24matches))%20%7B%0D%0A%09%09%09if%20(isset(%24matches%5B3%5D)%20%26%26%20%24matches%5B3%5D%20%3D%3D%20\'bz2\')%20%7B%0D%0A%09%09%09%20%20%20%20%24this-%3ESET%5B\'comp_method\'%5D%20%3D%202%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09elseif%20(isset(%24matches%5B2%5D)%20%26%26%24matches%5B3%5D%20%3D%3D%20\'gz\')%7B%0D%0A%09%09%09%09%24this-%3ESET%5B\'comp_method\'%5D%20%3D%201%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09else%7B%0D%0A%09%09%09%09%24this-%3ESET%5B\'comp_method\'%5D%20%3D%200%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09%24this-%3ESET%5B\'comp_level\'%5D%20%3D%20\'\'%3B%0D%0A%09%09%09if%20(!file_exists(PATH%20.%20%22%2F%7B%24file%7D%22))%20%7B%0D%0A%20%20%20%20%09%09%20%20%20%20echo%20tpl_l(%22ERROR!%20File%20Not%20Found!%20!%22%2C%20C_ERROR)%3B%0D%0A%09%09%09%09echo%20tpl_enableBack()%3B%0D%0A%20%20%20%20%09%09%20%20%20%20exit%3B%0D%0A%20%20%20%20%09%09%7D%0D%0A%09%09%09echo%20tpl_l(%22Reading%20File%60%7B%24file%7D%60.%22)%3B%0D%0A%09%09%09%24file%20%3D%20%24matches%5B1%5D%3B%0D%0A%09%09%7D%0D%0A%09%09else%7B%0D%0A%09%09%09echo%20tpl_l(%22ERROR!%20No%20file%20selected(%22%2C%20C_ERROR)%3B%0D%0A%09%09%09echo%20tpl_enableBack()%3B%0D%0A%09%09%20%20%20%20exit%3B%0D%0A%09%09%7D%0D%0A%09%09echo%20tpl_l(str_repeat(%22-%22%2C%2060))%3B%0D%0A%09%09%24fp%20%3D%20%24this-%3Efn_open(%24file%2C%20%22r%22)%3B%0D%0A%09%09%24this-%3Efile_cache%20%3D%20%24sql%20%3D%20%24table%20%3D%20%24insert%20%3D%20\'\'%3B%0D%0A%20%20%20%20%20%20%20%20%24is_skd%20%3D%20%24query_len%20%3D%20%24execute%20%3D%20%24q%20%3D%24t%20%3D%20%24i%20%3D%20%24aff_rows%20%3D%200%3B%0D%0A%09%09%24limit%20%3D%20300%3B%0D%0A%20%20%20%20%20%20%20%20%24index%20%3D%204%3B%0D%0A%09%09%24tabs%20%3D%200%3B%0D%0A%09%09%24cache%20%3D%20\'\'%3B%0D%0A%09%09%24info%20%3D%20array()%3B%0D%0A%0D%0A%09%09%2F%2F%20Setting%20coding%20connections%0D%0A%09%09if%20(%24this-%3Emysql_version%20%3E%2040101%20%26%26%20(CHARSET%20!%3D%20\'auto\'%20%7C%7C%20%24this-%3Eforced_charset))%20%7B%20%2F%2F%20Encryption%20by%20default%20if%20the%20dump%20was%20not%20encoded%0D%0A%09%09%09mysql_query(%22SET%20NAMES%20\'%22%20.%20%24this-%3Erestore_charset%20.%20%22\'%22)%20or%20trigger_error%20(%22Cannot%20set%20the%20encoding%20for%20the%20connection.%3CBR%3E%22%20.%20mysql_error()%2C%20E_USER_ERROR)%3B%0D%0A%09%09%09echo%20tpl_l(%22Using%20encoding%20%60%22%20.%20%24this-%3Erestore_charset%20.%20%22%60.%22%2C%20C_WARNING)%3B%0D%0A%09%09%09%24last_charset%20%3D%20%24this-%3Erestore_charset%3B%0D%0A%09%09%7D%0D%0A%09%09else%20%7B%0D%0A%09%09%09%24last_charset%20%3D%20\'\'%3B%0D%0A%09%09%7D%0D%0A%09%09%24last_showed%20%3D%20\'\'%3B%0D%0A%09%09while((%24str%20%3D%20%24this-%3Efn_read_str(%24fp))%20!%3D%3D%20false)%7B%0D%0A%09%09%09if%20(empty(%24str)%20%7C%7C%20preg_match(%22%2F%5E(%23%7C--)%2F%22%2C%20%24str))%20%7B%0D%0A%09%09%09%09if%20(!%24is_skd%20%26%26%20preg_match(%22%2F%5E%23SKD101%5C%7C%2F%22%2C%20%24str))%20%7B%0D%0A%09%09%09%09%20%20%20%20%24info%20%3D%20explode(%22%7C%22%2C%20%24str)%3B%0D%0A%09%09%09%09%09echo%20tpl_s(0%2C%20%24t%20%2F%20%24info%5B4%5D)%3B%0D%0A%09%09%09%09%09%24is_skd%20%3D%201%3B%0D%0A%09%09%09%09%7D%0D%0A%20%20%20%20%20%20%20%20%09%20%20%20%20continue%3B%0D%0A%20%20%20%20%20%20%20%20%09%7D%0D%0A%09%09%09%24query_len%20%2B%3D%20strlen(%24str)%3B%0D%0A%0D%0A%09%09%09if%20(!%24insert%20%26%26%20preg_match(%22%2F%5E(INSERT%20INTO%20%60%3F(%5B%5E%60%20%5D%2B)%60%3F%20.*%3FVALUES)(.*)%24%2Fi%22%2C%20%24str%2C%20%24m))%20%7B%0D%0A%09%09%09%09if%20(%24table%20!%3D%20%24m%5B2%5D)%20%7B%0D%0A%09%09%09%09%20%20%20%20%24table%20%3D%20%24m%5B2%5D%3B%0D%0A%09%09%09%09%09%24tabs%2B%2B%3B%0D%0A%09%09%09%09%09%24cache%20.%3D%20tpl_l(%22Table%20%60%7B%24table%7D%60.%22)%3B%0D%0A%09%09%09%09%09%24last_showed%20%3D%20%24table%3B%0D%0A%09%09%09%09%09%24i%20%3D%200%3B%0D%0A%09%09%09%09%09if%20(%24is_skd)%0D%0A%09%09%09%09%09%20%20%20%20echo%20tpl_s(100%20%2C%20%24t%20%2F%20%24info%5B4%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%20%20%20%20%20%20%20%20%09%20%20%20%20%24insert%20%3D%20%24m%5B1%5D%20.%20\'%20\'%3B%0D%0A%09%09%09%09%24sql%20.%3D%20%24m%5B3%5D%3B%0D%0A%09%09%09%09%24index%2B%2B%3B%0D%0A%09%09%09%09%24info%5B%24index%5D%20%3D%20isset(%24info%5B%24index%5D)%20%3F%20%24info%5B%24index%5D%20%3A%200%3B%0D%0A%09%09%09%09%24limit%20%3D%20round(%24info%5B%24index%5D%20%2F%2020)%3B%0D%0A%09%09%09%09%24limit%20%3D%20%24limit%20%3C%20300%20%3F%20300%20%3A%20%24limit%3B%0D%0A%09%09%09%09if%20(%24info%5B%24index%5D%20%3E%20%24limit)%7B%0D%0A%09%09%09%09%09echo%20%24cache%3B%0D%0A%09%09%09%09%09%24cache%20%3D%20\'\'%3B%0D%0A%09%09%09%09%09echo%20tpl_s(0%20%2F%20%24info%5B%24index%5D%2C%20%24t%20%2F%20%24info%5B4%5D)%3B%0D%0A%09%09%09%09%7D%0D%0A%20%20%20%20%20%20%20%20%09%7D%0D%0A%09%09%09else%7B%0D%0A%20%20%20%20%20%20%20%20%09%09%24sql%20.%3D%20%24str%3B%0D%0A%09%09%09%09if%20(%24insert)%20%7B%0D%0A%09%09%09%09%20%20%20%20%24i%2B%2B%3B%0D%0A%20%20%20%20%09%09%09%09%24t%2B%2B%3B%0D%0A%20%20%20%20%09%09%09%09if%20(%24is_skd%20%26%26%20%24info%5B%24index%5D%20%3E%20%24limit%20%26%26%20%24t%20%25%20%24limit%20%3D%3D%200)%7B%0D%0A%20%20%20%20%09%09%09%09%09echo%20tpl_s(%24i%20%2F%20%24info%5B%24index%5D%2C%20%24t%20%2F%20%24info%5B4%5D)%3B%0D%0A%20%20%20%20%09%09%09%09%7D%0D%0A%09%09%09%09%7D%0D%0A%20%20%20%20%20%20%20%20%09%7D%0D%0A%0D%0A%09%09%09if%20(!%24insert%20%26%26%20preg_match(%22%2F%5ECREATE%20TABLE%20(IF%20NOT%20EXISTS%20)%3F%60%3F(%5B%5E%60%20%5D%2B)%60%3F%2Fi%22%2C%20%24str%2C%20%24m)%20%26%26%20%24table%20!%3D%20%24m%5B2%5D)%7B%0D%0A%09%09%09%09%24table%20%3D%20%24m%5B2%5D%3B%0D%0A%09%09%09%09%24insert%20%3D%20\'\'%3B%0D%0A%09%09%09%09%24tabs%2B%2B%3B%0D%0A%09%09%09%09%24is_create%20%3D%20true%3B%0D%0A%09%09%09%09%24i%20%3D%200%3B%0D%0A%09%09%09%7D%0D%0A%09%09%09if%20(%24sql)%20%7B%0D%0A%09%09%09%20%20%20%20if%20(preg_match(%22%2F%3B%24%2F%22%2C%20%24str))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09%24sql%20%3D%20rtrim(%24insert%20.%20%24sql%2C%20%22%3B%22)%3B%0D%0A%09%09%09%09%09if%20(empty(%24insert))%20%7B%0D%0A%09%09%09%09%09%09if%20(%24this-%3Emysql_version%20%3C%2040101)%20%7B%0D%0A%09%09%09%09%20%20%20%20%09%09%24sql%20%3D%20preg_replace(%22%2FENGINE%5Cs%3F%3D%2F%22%2C%20%22TYPE%3D%22%2C%20%24sql)%3B%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09elseif%20(preg_match(%22%2FCREATE%20TABLE%2Fi%22%2C%20%24sql))%7B%0D%0A%09%09%09%09%09%09%09%2F%2F%20Bill%20encoding%20connections%0D%0A%09%09%09%09%09%09%09if%20(preg_match(%22%2F(CHARACTER%20SET%7CCHARSET)%5B%3D%5Cs%5D%2B(%5Cw%2B)%2Fi%22%2C%20%24sql%2C%20%24charset))%20%7B%0D%0A%09%09%09%09%09%09%09%09if%20(!%24this-%3Eforced_charset%20%26%26%20%24charset%5B2%5D%20!%3D%20%24last_charset)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09if%20(CHARSET%20%3D%3D%20\'auto\')%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%09mysql_query(%22SET%20NAMES%20\'%22%20.%20%24charset%5B2%5D%20.%20%22\'%22)%20or%20trigger_error%20(%22Cannot%20set%20the%20encoding%20for%20the%20connection.%3CBR%3E%7B%24sql%7D%3CBR%3E%22%20.%20mysql_error()%2C%20E_USER_ERROR)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%24cache%20.%3D%20tpl_l(%22Using%20encoding%20%60%22%20.%20%24charset%5B2%5D%20.%20%22%60.%22%2C%20C_WARNING)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%24last_charset%20%3D%20%24charset%5B2%5D%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%09else%7B%0D%0A%09%09%09%09%09%09%09%09%09%09%24cache%20.%3D%20tpl_l(\'Encoding%20connections%2C%20and%20the%20table%20does%20not%20match%20%3A\'%2C%20C_ERROR)%3B%0D%0A%09%09%09%09%09%09%09%09%09%09%24cache%20.%3D%20tpl_l(\'Table%20%60\'.%20%24table%20.\'%60%20-%3E%20\'%20.%20%24charset%5B2%5D%20.%20\'%20(Connection%20\'%20%20.%20%24this-%3Erestore_charset%20.%20\')\'%2C%20C_ERROR)%3B%0D%0A%09%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%09%2F%2F%20Changing%20encoding%20if%20the%20rush%20encoding%0D%0A%09%09%09%09%09%09%09%09if%20(%24this-%3Eforced_charset)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09%24sql%20%3D%20preg_replace(%22%2F(%5C%2F%5C*!%5Cd%2B%5Cs)%3F((COLLATE)%5B%3D%5Cs%5D%2B)%5Cw%2B(%5Cs%2B%5C*%5C%2F)%3F%2Fi%22%2C%20\'\'%2C%20%24sql)%3B%0D%0A%09%09%09%09%09%09%09%09%09%24sql%20%3D%20preg_replace(%22%2F((CHARACTER%20SET%7CCHARSET)%5B%3D%5Cs%5D%2B)%5Cw%2B%2Fi%22%2C%20%22%5C%5C1%22%20.%20%24this-%3Erestore_charset%20.%20%24this-%3Erestore_collate%2C%20%24sql)%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09elseif(CHARSET%20%3D%3D%20\'auto\')%7B%20%2F%2F%20Run%20encoding%20table%20if%20it%20is%20not%20specified%20and%20installed%20auto%20encoding%0D%0A%09%09%09%09%09%09%09%09%24sql%20.%3D%20\'%20DEFAULT%20CHARSET%3D\'%20.%20%24this-%3Erestore_charset%20.%20%24this-%3Erestore_collate%3B%0D%0A%09%09%09%09%09%09%09%09if%20(%24this-%3Erestore_charset%20!%3D%20%24last_charset)%20%7B%0D%0A%09%09%09%09%09%09%09%09%09mysql_query(%22SET%20NAMES%20\'%22%20.%20%24this-%3Erestore_charset%20.%20%22\'%22)%20or%20trigger_error%20(%22Cannot%20set%20the%20encoding%20for%20the%20connection.%3CBR%3E%7B%24sql%7D%3CBR%3E%22%20.%20mysql_error()%2C%20E_USER_ERROR)%3B%0D%0A%09%09%09%09%09%09%09%09%09%24cache%20.%3D%20tpl_l(%22Using%20encoding%20%60%22%20.%20%24this-%3Erestore_charset%20.%20%22%60.%22%2C%20C_WARNING)%3B%0D%0A%09%09%09%09%09%09%09%09%09%24last_charset%20%3D%20%24this-%3Erestore_charset%3B%0D%0A%09%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09%7D%0D%0A%09%09%09%09%09%09if%20(%24last_showed%20!%3D%20%24table)%20%7B%24cache%20.%3D%20tpl_l(%22Table%20%60%7B%24table%7D%60.%22)%3B%20%24last_showed%20%3D%20%24table%3B%7D%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09elseif(%24this-%3Emysql_version%20%3E%2040101%20%26%26%20empty(%24last_charset))%20%7B%20%2F%2F%20Install%20encoding%20for%20the%20absence%20CREATE%20TABLE%0D%0A%09%09%09%09%09%09mysql_query(%22SET%20%24this-%3Erestore_charset%20\'%22%20.%20%24this-%3Erestore_charset%20.%20%22\'%22)%20or%20trigger_error%20(%22Cannot%20set%20the%20encoding%20for%20the%20connection.%3CBR%3E%7B%24sql%7D%3CBR%3E%22%20.%20mysql_error()%2C%20E_USER_ERROR)%3B%0D%0A%09%09%09%09%09%09echo%20tpl_l(%22Using%20encoding%20%60%22%20.%20%24this-%3Erestore_charset%20.%20%22%60.%22%2C%20C_WARNING)%3B%0D%0A%09%09%09%09%09%09%24last_charset%20%3D%20%24this-%3Erestore_charset%3B%0D%0A%09%09%09%09%09%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09%24insert%20%3D%20\'\'%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%20%20%20%20%24execute%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09if%20(%24query_len%20%3E%3D%2065536%20%26%26%20preg_match(%22%2F%2C%24%2F%22%2C%20%24str))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09%24sql%20%3D%20rtrim(%24insert%20.%20%24sql%2C%20%22%2C%22)%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%20%20%20%20%24execute%20%3D%201%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%7D%0D%0A%20%20%20%20%09%09%09if%20(%24execute)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09%24q%2B%2B%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09mysql_query(%24sql)%20or%20trigger_error%20(%22Bad%20request.%3CBR%3E%22%20.%20mysql_error()%2C%20E_USER_ERROR)%3B%0D%0A%09%09%09%09%09if%20(preg_match(%22%2F%5Einsert%2Fi%22%2C%20%24sql))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09%20%20%20%20%24aff_rows%20%2B%3D%20mysql_affected_rows()%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09%24sql%20%3D%20\'\'%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09%24query_len%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%09%24execute%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09echo%20%24cache%3B%0D%0A%09%09echo%20tpl_s(1%20%2C%201)%3B%0D%0A%09%09echo%20tpl_l(str_repeat(%22-%22%2C%2060))%3B%0D%0A%09%09echo%20tpl_l(%22DB%20restored%20from%20a%20backup.%22%2C%20C_RESULT)%3B%0D%0A%09%09if%20(isset(%24info%5B3%5D))%20echo%20tpl_l(%22Established%20copies%3A%20%7B%24info%5B3%5D%7D%22%2C%20C_RESULT)%3B%0D%0A%09%09echo%20tpl_l(%22Queries%20to%20DB%3A%20%7B%24q%7D%22%2C%20C_RESULT)%3B%0D%0A%09%09echo%20tpl_l(%22Tables%20set%20up%3A%20%7B%24tabs%7D%22%2C%20C_RESULT)%3B%0D%0A%09%09echo%20tpl_l(%22Lines%20added%3A%20%7B%24aff_rows%7D%22%2C%20C_RESULT)%3B%0D%0A%0D%0A%09%09%24this-%3Etabs%20%3D%20%24tabs%3B%0D%0A%09%09%24this-%3Erecords%20%3D%20%24aff_rows%3B%0D%0A%09%09%24this-%3Esize%20%3D%20filesize(PATH%20.%20%24this-%3Efilename)%3B%0D%0A%09%09%24this-%3Ecomp%20%3D%20%24this-%3ESET%5B\'comp_method\'%5D%20*%2010%20%2B%20%24this-%3ESET%5B\'comp_level\'%5D%3B%0D%0A%09%09echo%20%22%3CSCRIPT%3Edocument.getElementById(\'back\').disabled%20%3D%200%3B%3C%2FSCRIPT%3E%22%3B%0D%0A%09%09%2F%2F%20Data%20Transfer%20for%20global%20statistics%0D%0A%09%09if%20(GS)%20echo%20%22%3CSCRIPT%3Edocument.getElementById(\'GS\').src%20%3D%20\'http%3A%2F%2Fsypex.net%2Fgs.php%3Fr%3D%7B%24this-%3Etabs%7D%2C%7B%24this-%3Erecords%7D%2C%7B%24this-%3Esize%7D%2C%7B%24this-%3Ecomp%7D%2C108\'%3B%3C%2FSCRIPT%3E%22%3B%0D%0A%0D%0A%09%09%24this-%3Efn_close(%24fp)%3B%0D%0A%09%7D%0D%0A%0D%0A%09function%20main()%7B%0D%0A%09%09%24this-%3Ecomp_levels%20%3D%20array(\'9\'%20%3D%3E%20\'Level%209%20(Cao%20nh%26%237845%3Bt)\'%2C%20\'8\'%20%3D%3E%20\'Level%208\'%2C%20\'7\'%20%3D%3E%20\'Level%207\'%2C%20\'6\'%20%3D%3E%20\'Level%206\'%2C%20\'5\'%20%3D%3E%20\'Level%205%20(Trung%20b%26igrave%3Bnh)\'%2C%20\'4\'%20%3D%3E%20\'Level%204\'%2C%20\'3\'%20%3D%3E%20\'Level%203\'%2C%20\'2\'%20%3D%3E%20\'Level%202\'%2C%20\'1\'%20%3D%3E%20\'Level%201%20(B%26igrave%3Bnh%20th%26%23432%3B%26%237901%3Bng)\'%2C\'0\'%20%3D%3E%20\'Kh%26ocirc%3Bng%20t%26%237889%3Bi%20%26%23432%3Bu%20h%26oacute%3Ba%20\')%3B%0D%0A%0D%0A%09%09if%20(function_exists(%22bzopen%22))%20%7B%0D%0A%09%09%20%20%20%20%24this-%3Ecomp_methods%5B2%5D%20%3D%20\'BZip2\'%3B%0D%0A%09%09%7D%0D%0A%09%09if%20(function_exists(%22gzopen%22))%20%7B%0D%0A%09%09%20%20%20%20%24this-%3Ecomp_methods%5B1%5D%20%3D%20\'GZip\'%3B%0D%0A%09%09%7D%0D%0A%09%09%24this-%3Ecomp_methods%5B0%5D%20%3D%20\'No%20compression\'%3B%0D%0A%09%09if%20(count(%24this-%3Ecomp_methods)%20%3D%3D%201)%20%7B%0D%0A%09%09%20%20%20%20%24this-%3Ecomp_levels%20%3D%20array(\'0\'%20%3D%3E\'No%20compression\')%3B%0D%0A%09%09%7D%0D%0A%0D%0A%09%09%24dbs%20%3D%20%24this-%3Edb_select()%3B%0D%0A%09%09%24this-%3Evars%5B\'db_backup\'%5D%20%20%20%20%3D%20%24this-%3Efn_select(%24dbs%2C%20%24this-%3ESET%5B\'last_db_backup\'%5D)%3B%0D%0A%09%09%24this-%3Evars%5B\'db_restore\'%5D%20%20%20%3D%20%24this-%3Efn_select(%24dbs%2C%20%24this-%3ESET%5B\'last_db_restore\'%5D)%3B%0D%0A%09%09%24this-%3Evars%5B\'comp_levels\'%5D%20%20%3D%20%24this-%3Efn_select(%24this-%3Ecomp_levels%2C%20%24this-%3ESET%5B\'comp_level\'%5D)%3B%0D%0A%09%09%24this-%3Evars%5B\'comp_methods\'%5D%20%3D%20%24this-%3Efn_select(%24this-%3Ecomp_methods%2C%20%24this-%3ESET%5B\'comp_method\'%5D)%3B%0D%0A%09%09%24this-%3Evars%5B\'tables\'%5D%20%20%20%20%20%20%20%3D%20%24this-%3ESET%5B\'tables\'%5D%3B%0D%0A%09%09%24this-%3Evars%5B\'files\'%5D%20%20%20%20%20%20%20%20%3D%20%24this-%3Efn_select(%24this-%3Efile_select()%2C%20\'\')%3B%0D%0A%09%09%24buttons%20%3D%20%22%3CINPUT%20TYPE%3Dsubmit%20VALUE%3DOkie%3E%3CINPUT%20TYPE%3Dbutton%20VALUE%3D\'Tho%26aacute%3Bt\'%20onClick%3D%5C%22location.href%20%3D%20\'%22.%24_SERVER%5B\'PHP_SELF\'%5D.%22%3Freload\'%5C%22%3E%22%3B%0D%0A%09%09echo%20tpl_page(tpl_main()%2C%20%24buttons)%3B%0D%0A%09%7D%0D%0A%0D%0A%09function%20db_select()%7B%0D%0A%09%09if%20(DBNAMES%20!%3D%20\'\')%20%7B%0D%0A%09%09%09%24items%20%3D%20explode(\'%2C\'%2C%20trim(DBNAMES))%3B%0D%0A%09%09%09foreach(%24items%20AS%20%24item)%7B%0D%0A%20%20%20%20%09%09%09if%20(mysql_select_db(%24item))%20%7B%0D%0A%20%20%20%20%09%09%09%09%24tables%20%3D%20mysql_query(%22SHOW%20TABLES%22)%3B%0D%0A%20%20%20%20%09%09%09%09if%20(%24tables)%20%7B%0D%0A%20%20%20%20%09%20%20%09%09%09%20%20%20%20%24tabs%20%3D%20mysql_num_rows(%24tables)%3B%0D%0A%20%20%20%20%09%20%20%09%09%09%09%24dbs%5B%24item%5D%20%3D%20%22%7B%24item%7D%20(%7B%24tabs%7D)%22%3B%0D%0A%20%20%20%20%09%20%20%09%09%09%7D%0D%0A%20%20%20%20%09%09%09%7D%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09else%20%7B%0D%0A%20%20%20%20%09%09%24result%20%3D%20mysql_query(%22SHOW%20DATABASES%22)%3B%0D%0A%20%20%20%20%09%09%24dbs%20%3D%20array()%3B%0D%0A%20%20%20%20%09%09while(%24item%20%3D%20mysql_fetch_array(%24result))%7B%0D%0A%20%20%20%20%09%09%09if%20(mysql_select_db(%24item%5B0%5D))%20%7B%0D%0A%20%20%20%20%09%09%09%09%24tables%20%3D%20mysql_query(%22SHOW%20TABLES%22)%3B%0D%0A%20%20%20%20%09%09%09%09if%20(%24tables)%20%7B%0D%0A%20%20%20%20%09%20%20%09%09%09%20%20%20%20%24tabs%20%3D%20mysql_num_rows(%24tables)%3B%0D%0A%20%20%20%20%09%20%20%09%09%09%09%24dbs%5B%24item%5B0%5D%5D%20%3D%20%22%7B%24item%5B0%5D%7D%20(%7B%24tabs%7D)%22%3B%0D%0A%20%20%20%20%09%20%20%09%09%09%7D%0D%0A%20%20%20%20%09%09%09%7D%0D%0A%20%20%20%20%09%09%7D%0D%0A%09%09%7D%0D%0A%09%20%20%20%20return%20%24dbs%3B%0D%0A%09%7D%0D%0A%0D%0A%09function%20file_select()%7B%0D%0A%09%09%24files%20%3D%20array(\'\'%20%3D%3E%20\'%20\')%3B%0D%0A%09%09if%20(is_dir(PATH)%20%26%26%20%24handle%20%3D%20opendir(PATH))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20while%20(false%20!%3D%3D%20(%24file%20%3D%20readdir(%24handle)))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(preg_match(%22%2F%5E.%2B%3F%5C.sql(%5C.(gz%7Cbz2))%3F%24%2F%22%2C%20%24file))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24files%5B%24file%5D%20%3D%20%24file%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20closedir(%24handle)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20ksort(%24files)%3B%0D%0A%09%09return%20%24files%3B%0D%0A%09%7D%0D%0A%0D%0A%09function%20fn_open(%24name%2C%20%24mode)%7B%0D%0A%09%09if%20(%24this-%3ESET%5B\'comp_method\'%5D%20%3D%3D%202)%20%7B%0D%0A%09%09%09%24this-%3Efilename%20%3D%20%22%7B%24name%7D.sql.bz2%22%3B%0D%0A%09%09%20%20%20%20return%20bzopen(PATH%20.%20%24this-%3Efilename%2C%20%22%7B%24mode%7Db%7B%24this-%3ESET%5B\'comp_level\'%5D%7D%22)%3B%0D%0A%09%09%7D%0D%0A%09%09elseif%20(%24this-%3ESET%5B\'comp_method\'%5D%20%3D%3D%201)%20%7B%0D%0A%09%09%09%24this-%3Efilename%20%3D%20%22%7B%24name%7D.sql.gz%22%3B%0D%0A%09%09%20%20%20%20return%20gzopen(PATH%20.%20%24this-%3Efilename%2C%20%22%7B%24mode%7Db%7B%24this-%3ESET%5B\'comp_level\'%5D%7D%22)%3B%0D%0A%09%09%7D%0D%0A%09%09else%7B%0D%0A%09%09%09%24this-%3Efilename%20%3D%20%22%7B%24name%7D.sql%22%3B%0D%0A%09%09%09return%20fopen(PATH%20.%20%24this-%3Efilename%2C%20%22%7B%24mode%7Db%22)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09function%20fn_write(%24fp%2C%20%24str)%7B%0D%0A%09%09if%20(%24this-%3ESET%5B\'comp_method\'%5D%20%3D%3D%202)%20%7B%0D%0A%09%09%20%20%20%20bzwrite(%24fp%2C%20%24str)%3B%0D%0A%09%09%7D%0D%0A%09%09elseif%20(%24this-%3ESET%5B\'comp_method\'%5D%20%3D%3D%201)%20%7B%0D%0A%09%09%20%20%20%20gzwrite(%24fp%2C%20%24str)%3B%0D%0A%09%09%7D%0D%0A%09%09else%7B%0D%0A%09%09%09fwrite(%24fp%2C%20%24str)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09function%20fn_read(%24fp)%7B%0D%0A%09%09if%20(%24this-%3ESET%5B\'comp_method\'%5D%20%3D%3D%202)%20%7B%0D%0A%09%09%20%20%20%20return%20bzread(%24fp%2C%204096)%3B%0D%0A%09%09%7D%0D%0A%09%09elseif%20(%24this-%3ESET%5B\'comp_method\'%5D%20%3D%3D%201)%20%7B%0D%0A%09%09%20%20%20%20return%20gzread(%24fp%2C%204096)%3B%0D%0A%09%09%7D%0D%0A%09%09else%7B%0D%0A%09%09%09return%20fread(%24fp%2C%204096)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09function%20fn_read_str(%24fp)%7B%0D%0A%09%09%24string%20%3D%20\'\'%3B%0D%0A%09%09%24this-%3Efile_cache%20%3D%20ltrim(%24this-%3Efile_cache)%3B%0D%0A%09%09%24pos%20%3D%20strpos(%24this-%3Efile_cache%2C%20%22%5Cn%22%2C%200)%3B%0D%0A%09%09if%20(%24pos%20%3C%201)%20%7B%0D%0A%09%09%09while%20(!%24string%20%26%26%20(%24str%20%3D%20%24this-%3Efn_read(%24fp)))%7B%0D%0A%20%20%20%20%09%09%09%24pos%20%3D%20strpos(%24str%2C%20%22%5Cn%22%2C%200)%3B%0D%0A%20%20%20%20%09%09%09if%20(%24pos%20%3D%3D%3D%20false)%20%7B%0D%0A%20%20%20%20%09%09%09%20%20%20%20%24this-%3Efile_cache%20.%3D%20%24str%3B%0D%0A%20%20%20%20%09%09%09%7D%0D%0A%20%20%20%20%09%09%09else%7B%0D%0A%20%20%20%20%09%09%09%09%24string%20%3D%20%24this-%3Efile_cache%20.%20substr(%24str%2C%200%2C%20%24pos)%3B%0D%0A%20%20%20%20%09%09%09%09%24this-%3Efile_cache%20%3D%20substr(%24str%2C%20%24pos%20%2B%201)%3B%0D%0A%20%20%20%20%09%09%09%7D%0D%0A%20%20%20%20%09%09%7D%0D%0A%09%09%09if%20(!%24str)%20%7B%0D%0A%09%09%09%20%20%20%20if%20(%24this-%3Efile_cache)%20%7B%0D%0A%09%09%09%09%09%24string%20%3D%20%24this-%3Efile_cache%3B%0D%0A%09%09%09%09%09%24this-%3Efile_cache%20%3D%20\'\'%3B%0D%0A%09%09%09%09%20%20%20%20return%20trim(%24string)%3B%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%20%20%20%20return%20false%3B%0D%0A%09%09%09%7D%0D%0A%09%09%7D%0D%0A%09%09else%20%7B%0D%0A%20%20%09%09%09%24string%20%3D%20substr(%24this-%3Efile_cache%2C%200%2C%20%24pos)%3B%0D%0A%20%20%09%09%09%24this-%3Efile_cache%20%3D%20substr(%24this-%3Efile_cache%2C%20%24pos%20%2B%201)%3B%0D%0A%09%09%7D%0D%0A%09%09return%20trim(%24string)%3B%0D%0A%09%7D%0D%0A%0D%0A%09function%20fn_close(%24fp)%7B%0D%0A%09%09if%20(%24this-%3ESET%5B\'comp_method\'%5D%20%3D%3D%202)%20%7B%0D%0A%09%09%20%20%20%20bzclose(%24fp)%3B%0D%0A%09%09%7D%0D%0A%09%09elseif%20(%24this-%3ESET%5B\'comp_method\'%5D%20%3D%3D%201)%20%7B%0D%0A%09%09%20%20%20%20gzclose(%24fp)%3B%0D%0A%09%09%7D%0D%0A%09%09else%7B%0D%0A%09%09%09fclose(%24fp)%3B%0D%0A%09%09%7D%0D%0A%09%09%40chmod(PATH%20.%20%24this-%3Efilename%2C%200666)%3B%0D%0A%09%09%24this-%3Efn_index()%3B%0D%0A%09%7D%0D%0A%0D%0A%09function%20fn_select(%24items%2C%20%24selected)%7B%0D%0A%09%09%24select%20%3D%20\'\'%3B%0D%0A%09%09foreach(%24items%20AS%20%24key%20%3D%3E%20%24value)%7B%0D%0A%09%09%09%24select%20.%3D%20%24key%20%3D%3D%20%24selected%20%3F%20%22%3COPTION%20VALUE%3D\'%7B%24key%7D\'%20SELECTED%3E%7B%24value%7D%22%20%3A%20%22%3COPTION%20VALUE%3D\'%7B%24key%7D\'%3E%7B%24value%7D%22%3B%0D%0A%09%09%7D%0D%0A%09%09return%20%24select%3B%0D%0A%09%7D%0D%0A%0D%0A%09function%20fn_save()%7B%0D%0A%09%09if%20(SC)%20%7B%0D%0A%09%09%09%24ne%20%3D%20!file_exists(PATH%20.%20%22dumper.cfg.php%22)%3B%0D%0A%09%09%20%20%20%20%24fp%20%3D%20fopen(PATH%20.%20%22dumper.cfg.php%22%2C%20%22wb%22)%3B%0D%0A%20%20%20%20%20%20%20%20%09fwrite(%24fp%2C%20%22%3C%3Fphp%5Cn%5C%24this-%3ESET%20%3D%20%22%20.%20fn_arr2str(%24this-%3ESET)%20.%20%22%5Cn%3F%3E%22)%3B%0D%0A%20%20%20%20%20%20%20%20%09fclose(%24fp)%3B%0D%0A%09%09%09if%20(%24ne)%20%40chmod(PATH%20.%20%22dumper.cfg.php%22%2C%200666)%3B%0D%0A%09%09%09%24this-%3Efn_index()%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%0D%0A%09function%20fn_index()%7B%0D%0A%09%09if%20(!file_exists(PATH%20.%20\'index.html\'))%20%7B%0D%0A%09%09%20%20%20%20%24fh%20%3D%20fopen(PATH%20.%20\'index.html\'%2C%20\'wb\')%3B%0D%0A%09%09%09fwrite(%24fh%2C%20tpl_backup_index())%3B%0D%0A%09%09%09fclose(%24fh)%3B%0D%0A%09%09%09%40chmod(PATH%20.%20\'index.html\'%2C%200666)%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0Afunction%20fn_int(%24num)%7B%0D%0A%09return%20number_format(%24num%2C%200%2C%20\'%2C\'%2C%20\'%20\')%3B%0D%0A%7D%0D%0A%0D%0Afunction%20fn_arr2str(%24array)%20%7B%0D%0A%09%24str%20%3D%20%22array(%5Cn%22%3B%0D%0A%09foreach%20(%24array%20as%20%24key%20%3D%3E%20%24value)%20%7B%0D%0A%09%09if%20(is_array(%24value))%20%7B%0D%0A%09%09%09%24str%20.%3D%20%22\'%24key\'%20%3D%3E%20%22%20.%20fn_arr2str(%24value)%20.%20%22%2C%5Cn%5Cn%22%3B%0D%0A%09%09%7D%0D%0A%09%09else%20%7B%0D%0A%09%09%09%24str%20.%3D%20%22\'%24key\'%20%3D%3E%20\'%22%20.%20str_replace(%22\'%22%2C%20%22%5C\'%22%2C%20%24value)%20.%20%22\'%2C%5Cn%22%3B%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%09return%20%24str%20.%20%22)%22%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20Templates%20%0D%0A%0D%0Afunction%20tpl_page(%24content%20%3D%20\'\'%2C%20%24buttons%20%3D%20\'\')%7B%0D%0Areturn%20%3C%3C%3CHTML%0D%0A%3C!DOCTYPE%20HTML%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20HTML%204.01%20Transitional%2F%2FEN%22%3E%0D%0A%3CHTML%3E%0D%0A%3CHEAD%3E%0D%0A%0D%0A%3CMETA%20HTTP-EQUIV%3DContent-Type%20CONTENT%3D%22text%2Fhtml%3B%20charset%3Dwindows-1251%22%3E%0D%0A%3CSTYLE%20TYPE%3D%22TEXT%2FCSS%22%3E%0D%0A%3C!--%0D%0Abody%7B%0D%0A%09overflow%3A%20auto%3B%0D%0A%09color%3A%20%234D4D4D%3B%0D%0A%09scrollbar-arrow-color%3A%20%23C6C6C6%3B%0D%0A%09scrollbar-face-color%3A%20%23FFF%3B%20%0D%0A%09scrollbar-track-color%3A%20%23FFF%3B%20%0D%0A%09scrollbar-highlight-color%3A%20%23C6C6C6%3B%20%0D%0A%09scrollbar-shadow-color%3A%20%23C6C6C6%3B%20%0D%0A%09scrollbar-darkshadow-color%3A%20%23FFF%3B%0D%0A%09scrollbar-3dlight-color%3A%20%23FFF%3B%0D%0A%09Cursor%3A%20default%3B%0D%0A%09%2F*background%3A%20%2354554F%3B*%2F%0D%0A%09background-image%3A%20url(%22img%2Fbackground-center.gif%22)%3B%0D%0A%09background-position%3Acenter%3B%0D%0A%09background-repeat%3Arepeat-y%3B%0D%0A%09margin%3A%200%3B%0D%0A%09font-family%3A%20tahoma%2C%20verdana%2C%20arial%2C%20sans-serif%3B%09%0D%0A%09font-size%3A%2011px%3B%0D%0A%7D%0D%0Atd%20%7B%0D%0A%09font%3A%2011px%20tahoma%2C%20verdana%2C%20arial%3B%0D%0A%09cursor%3A%20default%3B%0D%0A%7D%0D%0Ainput%2C%20select%2C%20div%20%7B%0D%0A%09font%3A%2011px%20tahoma%2C%20verdana%2C%20arial%3B%0D%0A%7D%0D%0Ainput.text%2C%20select%20%7B%0D%0A%09width%3A%20100%25%3B%0D%0A%7D%0D%0Afieldset%20%7B%0D%0A%09margin-bottom%3A%2020px%3B%0D%0A%7D%0D%0A--%3E%0D%0A%3C%2FSTYLE%3E%0D%0A%3C%2FHEAD%3E%0D%0A%0D%0A%3CBODY%20BGCOLOR%3D%23333333%20TEXT%3D%23000000%3E%0D%0A%3CTABLE%20WIDTH%3D100%25%20HEIGHT%3D100%25%20BORDER%3D0%20CELLSPACING%3D0%20CELLPADDING%3D0%20ALIGN%3DCENTER%3E%0D%0A%3CTR%3E%0D%0A%3CTD%20HEIGHT%3D60%25%20ALIGN%3DCENTER%20VALIGN%3DMIDDLE%3E%0D%0A%3CTABLE%20WIDTH%3D360%20BORDER%3D0%20CELLSPACING%3D0%20CELLPADDING%3D0%3E%0D%0A%3CTR%3E%0D%0A%3CTD%20VALIGN%3DTOP%20STYLE%3D%22border%3A%206px%20solid%20%23FFFF00%3B%22%3E%0D%0A%3CTABLE%20WIDTH%3D100%25%20HEIGHT%3D100%25%20BORDER%3D0%20CELLSPACING%3D1%20CELLPADDING%3D0%3E%0D%0A%3CTR%3E%0D%0A%3CTD%20ID%3DHeader%20HEIGHT%3D20%20BGCOLOR%3D%237A96DF%20STYLE%3D%22font-size%3A%2012px%3B%20color%3A%20white%3B%20font-family%3A%20tahoma%2C%20arial%3B%0D%0Apadding-left%3A%205px%3B%20FILTER%3A%20progid%3ADXImageTransform.Microsoft.Gradient(gradientType%3D1%2CstartColorStr%3D%23333333%2CendColorStr%3D%23FBFBFD)%22%0D%0ATITLE%3D\'%26copy%3B%202007%20by%20TanPhu.Net\'%3E%0D%0A%3Ccenter%3E%3CB%3E%3CA%20HREF%3Dhttp%3A%2F%2FTanPhu.Net%20STYLE%3D%22color%3A%20white%3B%20text-decoration%3A%20none%3B%22%3E%26%23272%3B%26%23259%3Bng%20nh%26%237853%3Bp%20phpMyadmin%3C%2FA%3E%3C%2FB%3E%3CIMG%20ID%3DGS%20WIDTH%3D1%20HEIGHT%3D1%20STYLE%3D%22visibility%3A%20hidden%3B%22%3E%20%3Cb%3E%3Cfont%20color%3D\'%23FFFFFF\'%3E%20%7C%20%20Localhost%3A3306%20%3C%2Ffont%3E%3C%2Fb%3E%3C%2FTD%3E%3C%2Fcenter%3E%0D%0A%3C%2FTR%3E%0D%0A%3CTR%3E%0D%0A%3CFORM%20NAME%3Dskb%20METHOD%3DPOST%20ACTION%3D%22%7B%24_SERVER%5B\'PHP_SELF\'%5D%7D%22%3E%0D%0A%3CTD%20VALIGN%3DTOP%20BGCOLOR%3D%23F4F3EE%20STYLE%3D%22FILTER%3A%20progid%3ADXImageTransform.Microsoft.Gradient(gradientType%3D0%2CstartColorStr%3D%23FCFBFE%2CendColorStr%3D%23F4F3EE)%3B%20padding%3A%208px%208px%3B%22%3E%0D%0A%7B%24content%7D%0D%0A%3CTABLE%20WIDTH%3D100%25%20BORDER%3D0%20CELLSPACING%3D0%20CELLPADDING%3D2%3E%0D%0A%3CTR%3E%0D%0A%3CTD%20STYLE%3D\'color%3A%20%23CECECE\'%20ID%3Dtimer%3E%3C%2FTD%3E%0D%0A%3CTD%20ALIGN%3DRIGHT%3E%7B%24buttons%7D%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3C%2FTABLE%3E%3C%2FTD%3E%0D%0A%3C%2FFORM%3E%0D%0A%3C%2FTR%3E%0D%0A%3C%2FTABLE%3E%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3C%2FTABLE%3E%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3C%2FTABLE%3E%0D%0A%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3C%2FTABLE%3E%0D%0A%3C%2FBODY%3E%0D%0A%3C%2FHTML%3E%0D%0AHTML%3B%0D%0A%7D%0D%0A%0D%0Afunction%20tpl_main()%7B%0D%0Aglobal%20%24SK%3B%0D%0Areturn%20%3C%3C%3CHTML%0D%0A%3CFIELDSET%20onClick%3D%22document.skb.action%5B0%5D.checked%20%3D%201%3B%22%3E%0D%0A%3CLEGEND%3E%0D%0A%3CINPUT%20TYPE%3Dradio%20NAME%3Daction%20VALUE%3Dbackup%3E%0D%0AL%26%23432%3Bu%20tr%26%237919%3B%20%2F%20Ch%26%237885%3Bn%20c%26%23417%3B%20s%26%237903%3B%20d%26%237919%3B%20li%26%237879%3Bu%20mu%26%237889%3Bn%20sao%20l%26%23432%3Bu%20%26nbsp%3B%3C%2FLEGEND%3E%0D%0A%3CTABLE%20WIDTH%3D100%25%20BORDER%3D0%20CELLSPACING%3D0%20CELLPADDING%3D2%3E%0D%0A%3CTR%3E%0D%0A%3CTD%20WIDTH%3D35%25%3ECh%26%237885%3Bn%20c%26%23417%3B%20s%26%237903%3B%20d%26%237919%3B%20li%26%237879%3Bu%3A%3C%2FTD%3E%0D%0A%3CTD%20WIDTH%3D65%25%3E%3CSELECT%20NAME%3Ddb_backup%3E%0D%0A%7B%24SK-%3Evars%5B\'db_backup\'%5D%7D%0D%0A%3C%2FSELECT%3E%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3CTR%3E%0D%0A%3CTD%3EL%26%237885%3Bc%20tables%20%3A%3C%2FTD%3E%0D%0A%3CTD%3E%3CINPUT%20NAME%3Dtables%20TYPE%3Dtext%20CLASS%3Dtext%20VALUE%3D\'%7B%24SK-%3Evars%5B\'tables\'%5D%7D\'%3E%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3CTR%3E%0D%0A%3CTD%3ET%26ecirc%3Bn%20%26%23273%3Bu%26ocirc%3Bi%20mu%26%237889%3Bn%20l%26%23432%3Bu%20tr%26%237919%3B%3A%3C%2FTD%3E%0D%0A%3CTD%3E%3CSELECT%20NAME%3Dcomp_method%3E%0D%0A%7B%24SK-%3Evars%5B\'comp_methods\'%5D%7D%0D%0A%3C%2FSELECT%3E%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3CTR%3E%0D%0A%3CTD%3ET%26%237889%3Bi%20%26%23432%3Bu%20h%26oacute%3Ba%20c%26%23417%3B%20s%26%237903%3B%20d%26%237919%3B%20li%26%237879%3Bu%20%3A%3C%2FTD%3E%0D%0A%3CTD%3E%3CSELECT%20NAME%3Dcomp_level%3E%0D%0A%7B%24SK-%3Evars%5B\'comp_levels\'%5D%7D%0D%0A%3C%2FSELECT%3E%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3C%2FTABLE%3E%0D%0A%3C%2FFIELDSET%3E%0D%0A%3CFIELDSET%20onClick%3D%22document.skb.action%5B1%5D.checked%20%3D%201%3B%22%3E%0D%0A%3CLEGEND%3E%0D%0A%3CINPUT%20TYPE%3Dradio%20NAME%3Daction%20VALUE%3Drestore%3E%0D%0APh%26%237909%3Bc%20h%26%237891%3Bi%20%2F%20Ch%26%237885%3Bn%20c%26%23417%3B%20s%26%237903%3B%20d%26%237919%3B%20li%26%237879%3Bu%20mu%26%237889%3Bn%20ph%26%237909%3Bc%20h%26%237891%3Bi%26nbsp%3B%3C%2FLEGEND%3E%0D%0A%3CTABLE%20WIDTH%3D100%25%20BORDER%3D0%20CELLSPACING%3D0%20CELLPADDING%3D2%3E%0D%0A%3CTR%3E%0D%0A%3CTD%3ECh%26%237885%3Bn%20c%26%23417%3B%20s%26%237903%3B%20d%26%237919%3B%20li%26%237879%3Bu%3A%3C%2FTD%3E%0D%0A%3CTD%3E%3CSELECT%20NAME%3Ddb_restore%3E%0D%0A%7B%24SK-%3Evars%5B\'db_restore\'%5D%7D%0D%0A%3C%2FSELECT%3E%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3CTR%3E%0D%0A%3CTD%20WIDTH%3D35%25%3ECh%26%237885%3Bn%20t%26ecirc%3Bn%20t%26%237853%3Bp%20tin%20%3A%3C%2FTD%3E%0D%0A%3CTD%20WIDTH%3D65%25%3E%3CSELECT%20NAME%3Dfile%3E%0D%0A%7B%24SK-%3Evars%5B\'files\'%5D%7D%0D%0A%3C%2FSELECT%3E%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3C%2FTABLE%3E%0D%0A%3C%2FFIELDSET%3E%0D%0A%3C%2FSPAN%3E%3Ccenter%3E%26copy%3B%202008%20by%20TanPhu.Net%20%7C%20YahooID%3A%20%3Cb%3EKiUcTinhYeu_1811%3C%2Fb%3E%3C%2Fcenter%3E%0D%0A%3CSCRIPT%3E%0D%0Adocument.skb.action%5B%7B%24SK-%3ESET%5B\'last_action\'%5D%7D%5D.checked%20%3D%201%3B%0D%0A%3C%2FSCRIPT%3E%0D%0A%0D%0AHTML%3B%0D%0A%7D%0D%0A%0D%0Afunction%20tpl_process(%24title)%7B%0D%0Areturn%20%3C%3C%3CHTML%0D%0A%3CFIELDSET%3E%0D%0A%3CLEGEND%3E%7B%24title%7D%26nbsp%3B%3C%2FLEGEND%3E%0D%0A%3CTABLE%20WIDTH%3D100%25%20BORDER%3D0%20CELLSPACING%3D0%20CELLPADDING%3D2%3E%0D%0A%3CTR%3E%3CTD%20COLSPAN%3D2%3E%3CDIV%20ID%3Dlogarea%20STYLE%3D%22width%3A%20100%25%3B%20height%3A%20140px%3B%20border%3A%201px%20solid%20%237F9DB9%3B%20padding%3A%203px%3B%20overflow%3A%20auto%3B%22%3E%3C%2FDIV%3E%3C%2FTD%3E%3C%2FTR%3E%0D%0A%3CTR%3E%3CTD%20WIDTH%3D31%25%3ETable%20Progress%20%3A%3C%2FTD%3E%3CTD%20WIDTH%3D69%25%3E%3CTABLE%20WIDTH%3D100%25%20BORDER%3D1%20CELLPADDING%3D0%20CELLSPACING%3D0%3E%0D%0A%3CTR%3E%3CTD%20BGCOLOR%3D%23FFFFFF%3E%3CTABLE%20WIDTH%3D1%20BORDER%3D0%20CELLPADDING%3D0%20CELLSPACING%3D0%20BGCOLOR%3D%235555CC%20ID%3Dst_tab%0D%0ASTYLE%3D%22FILTER%3A%20progid%3ADXImageTransform.Microsoft.Gradient(gradientType%3D0%2CstartColorStr%3D%23CCCCFF%2CendColorStr%3D%235555CC)%3B%0D%0Aborder-right%3A%201px%20solid%20%23AAAAAA%22%3E%3CTR%3E%3CTD%20HEIGHT%3D12%3E%3C%2FTD%3E%3C%2FTR%3E%3C%2FTABLE%3E%3C%2FTD%3E%3C%2FTR%3E%3C%2FTABLE%3E%3C%2FTD%3E%3C%2FTR%3E%0D%0A%3CTR%3E%3CTD%3EOverall%20%3A%3C%2FTD%3E%3CTD%3E%3CTABLE%20WIDTH%3D100%25%20BORDER%3D1%20CELLSPACING%3D0%20CELLPADDING%3D0%3E%0D%0A%3CTR%3E%3CTD%20BGCOLOR%3D%23FFFFFF%3E%3CTABLE%20WIDTH%3D1%20BORDER%3D0%20CELLPADDING%3D0%20CELLSPACING%3D0%20BGCOLOR%3D%2300AA00%20ID%3Dso_tab%0D%0ASTYLE%3D%22FILTER%3A%20progid%3ADXImageTransform.Microsoft.Gradient(gradientType%3D0%2CstartColorStr%3D%23CCFFCC%2CendColorStr%3D%2300AA00)%3B%0D%0Aborder-right%3A%201px%20solid%20%23AAAAAA%22%3E%3CTR%3E%3CTD%20HEIGHT%3D12%3E%3C%2FTD%3E%3C%2FTR%3E%3C%2FTABLE%3E%3C%2FTD%3E%0D%0A%3C%2FTR%3E%3C%2FTABLE%3E%3C%2FTD%3E%3C%2FTR%3E%3C%2FTABLE%3E%0D%0A%3C%2FFIELDSET%3E%3Ccenter%3E%26copy%3B%202008%20by%20TanPhu.Net%20%7C%20YahooID%3A%20%3Cb%3EKiUcTinhYeu_1811%3C%2Fb%3E%3C%2Fcenter%3E%0D%0A%3CSCRIPT%3E%0D%0Avar%20WidthLocked%20%3D%20false%3B%0D%0Afunction%20s(st%2C%20so)%7B%0D%0A%09document.getElementById(\'st_tab\').width%20%3D%20st%20%3F%20st%20%2B%20\'%25\'%20%3A%20\'1\'%3B%0D%0A%09document.getElementById(\'so_tab\').width%20%3D%20so%20%3F%20so%20%2B%20\'%25\'%20%3A%20\'1\'%3B%0D%0A%7D%0D%0Afunction%20l(str%2C%20color)%7B%0D%0A%09switch(color)%7B%0D%0A%09%09case%202%3A%20color%20%3D%20\'navy\'%3B%20break%3B%0D%0A%09%09case%203%3A%20color%20%3D%20\'red\'%3B%20break%3B%0D%0A%09%09case%204%3A%20color%20%3D%20\'maroon\'%3B%20break%3B%0D%0A%09%09default%3A%20color%20%3D%20\'black\'%3B%0D%0A%09%7D%0D%0A%09with(document.getElementById(\'logarea\'))%7B%0D%0A%09%09if%20(!WidthLocked)%7B%0D%0A%09%09%09style.width%20%3D%20clientWidth%3B%0D%0A%09%09%09WidthLocked%20%3D%20true%3B%0D%0A%09%09%7D%0D%0A%09%09str%20%3D%20\'%3CFONT%20COLOR%3D\'%20%2B%20color%20%2B%20\'%3E\'%20%2B%20str%20%2B%20\'%3C%2FFONT%3E\'%3B%0D%0A%09%09innerHTML%20%2B%3D%20innerHTML%20%3F%20%22%3CBR%3E%5C%5Cn%22%20%2B%20str%20%3A%20str%3B%0D%0A%09%09scrollTop%20%2B%3D%2014%3B%0D%0A%09%7D%0D%0A%7D%0D%0A%3C%2FSCRIPT%3E%0D%0AHTML%3B%0D%0A%7D%0D%0A%0D%0Afunction%20tpl_auth(%24error)%7B%0D%0Areturn%20%3C%3C%3CHTML%0D%0A%3CSPAN%20ID%3Derror%3E%0D%0A%3CFIELDSET%3E%0D%0A%3CLEGEND%3EError%3C%2FLEGEND%3E%0D%0A%3CTABLE%20WIDTH%3D100%25%20BORDER%3D0%20CELLSPACING%3D0%20CELLPADDING%3D2%3E%0D%0A%3CTR%3E%0D%0A%3CTD%3EFailed%20To%20Sypex%20Dumper%20Lite%20requires%20%3A%20%3CBR%3E%20-%20Internet%20Explorer%205.5%2B%2C%20Mozilla%20or%20Opera%208%2B%20(%3CSPAN%20ID%3Dsie%3E-%3C%2FSPAN%3E)%3CBR%3E%20-%20included%20the%20JavaScript%20scripts%20(%3CSPAN%20ID%3Dsjs%3E-%3C%2FSPAN%3E)%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3C%2FTABLE%3E%0D%0A%3C%2FFIELDSET%3E%0D%0A%3C%2FSPAN%3E%0D%0A%3CSPAN%20ID%3Dbody%20STYLE%3D%22display%3A%20none%3B%22%3E%0D%0A%7B%24error%7D%0D%0A%3CFIELDSET%3E%0D%0A%3CLEGEND%3EXin%20vui%20l%26ograve%3Bng%20g%26otilde%3B%20t%26ecirc%3Bn%20%26%23273%3B%26%23259%3Bng%20nh%26%237853%3Bp%20v%26agrave%3B%20m%26%237853%3Bt%20kh%26%237849%3Bu%20%3C%2FLEGEND%3E%0D%0A%3CTABLE%20WIDTH%3D100%25%20BORDER%3D0%20CELLSPACING%3D0%20CELLPADDING%3D2%3E%0D%0A%3CTR%3E%0D%0A%3CTD%20WIDTH%3D41%25%3EUsername%3A%3C%2FTD%3E%0D%0A%3CTD%20WIDTH%3D59%25%3E%3CINPUT%20NAME%3Dlogin%20TYPE%3Dtext%20CLASS%3Dtext%3E%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3CTR%3E%0D%0A%3CTD%3EPassword%3A%3C%2FTD%3E%0D%0A%3CTD%3E%3CINPUT%20NAME%3Dpass%20TYPE%3Dpassword%20CLASS%3Dtext%3E%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3C%2FTABLE%3E%0D%0A%3C%2FFIELDSET%3E%0D%0A%3C%2FSPAN%3E%3Ccenter%3EPhi%26ecirc%3Bn%20b%26%237843%3Bn%20vi%26%237879%3Bt%20h%26oacute%3Ba%20t%26%237915%3B%20m%26atilde%3B%20ngu%26%237891%3Bn%20Sypex%20Dumper%20Lite%3C%2Fb%3E%3C%2Fbr%3E%26copy%3B%202008%20by%20TanPhu.Net%20%7C%20YahooID%3A%20%3Cb%3EKiUcTinhYeu_1811%3C%2Fcenter%3E%0D%0A%3CSCRIPT%3E%0D%0Adocument.getElementById(\'sjs\').innerHTML%20%3D%20\'%2B\'%3B%0D%0Adocument.getElementById(\'body\').style.display%20%3D%20\'\'%3B%0D%0Adocument.getElementById(\'error\').style.display%20%3D%20\'none\'%3B%0D%0Avar%20jsEnabled%20%3D%20true%3B%0D%0A%3C%2FSCRIPT%3E%0D%0AHTML%3B%0D%0A%7D%0D%0A%0D%0Afunction%20tpl_l(%24str%2C%20%24color%20%3D%20C_DEFAULT)%7B%0D%0A%24str%20%3D%20preg_replace(%22%2F%5Cs%7B2%7D%2F%22%2C%20%22%20%26nbsp%3B%22%2C%20%24str)%3B%0D%0Areturn%20%3C%3C%3CHTML%0D%0A%3CSCRIPT%3El(\'%7B%24str%7D\'%2C%20%24color)%3B%3C%2FSCRIPT%3E%0D%0A%0D%0AHTML%3B%0D%0A%7D%0D%0A%0D%0Afunction%20tpl_enableBack()%7B%0D%0Areturn%20%3C%3C%3CHTML%0D%0A%3CSCRIPT%3Edocument.getElementById(\'back\').disabled%20%3D%200%3B%3C%2FSCRIPT%3E%0D%0A%0D%0AHTML%3B%0D%0A%7D%0D%0A%0D%0Afunction%20tpl_s(%24st%2C%20%24so)%7B%0D%0A%24st%20%3D%20round(%24st%20*%20100)%3B%0D%0A%24st%20%3D%20%24st%20%3E%20100%20%3F%20100%20%3A%20%24st%3B%0D%0A%24so%20%3D%20round(%24so%20*%20100)%3B%0D%0A%24so%20%3D%20%24so%20%3E%20100%20%3F%20100%20%3A%20%24so%3B%0D%0Areturn%20%3C%3C%3CHTML%0D%0A%3CSCRIPT%3Es(%7B%24st%7D%2C%7B%24so%7D)%3B%3C%2FSCRIPT%3E%0D%0A%0D%0AHTML%3B%0D%0A%7D%0D%0A%0D%0Afunction%20tpl_backup_index()%7B%0D%0Areturn%20%3C%3C%3CHTML%0D%0A%3CTITLE%3EDatabase%20BackUp%20and%20Restore%20%7C%20%26copy%3B%202008%20by%20Vu%20Thanh%20Lai%20(YahooID%3A%20KiUcTinhYeu_1811)%3C%2FTITLE%3E%0D%0A%3CCENTER%3E%0D%0A%3CH1%3E%3Cbr%3E%0D%0A%2F*%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D*%5C%3Cbr%3E%0D%0A%7C%7C%20%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%20%7C%7C%3Cbr%3E%0D%0A%7C%7C%20%23%20MYSQL%20LOGIN%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%09%20%20%20%23%20%7C%7C%3Cbr%3E%0D%0A%7C%7C%20%23%20------------------------------%09%20%20%20%23%20%7C%7C%3Cbr%3E%0D%0A%7C%7C%20%23%20Code%20by%20V%26%23361%3B%20Thanh%20Lai%20%23%20%7C%7C%3Cbr%3E%0D%0A%7C%7C%20%23%20Y!m%20%3A%20KiUcTinhYeu_1811%09%09%09%09%20%20%20%23%20%7C%7C%3Cbr%3E%0D%0A%7C%7C%20%23%20website%3Awww.tanphu.net%20%20%20%20%20%09%20%20%20%23%20%7C%7C%3Cbr%3E%0D%0A%7C%7C%20%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%23%20%7C%7C%3Cbr%3E%0D%0A%5C*%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D*%2F%3C%2FH1%3E%0D%0A%3C%2FCENTER%3E%0D%0A%0D%0AHTML%3B%0D%0A%7D%0D%0A%0D%0Afunction%20tpl_error(%24error)%7B%0D%0Areturn%20%3C%3C%3CHTML%0D%0A%3CFIELDSET%3E%0D%0A%3CLEGEND%3ET%26ecirc%3Bn%20%26%23273%3B%26%23259%3Bng%20nh%26%237853%3Bp%20ho%26%237863%3Bc%20m%26%237853%3Bt%20kh%26%237849%3Bu%20sai.%20Xin%20vui%20l%26ograve%3Bng%20%26%23273%3B%26%23259%3Bng%20nh%26%237853%3Bp%20l%26%237841%3Bi%3C%2FLEGEND%3E%0D%0A%3CTABLE%20WIDTH%3D100%25%20BORDER%3D0%20CELLSPACING%3D0%20CELLPADDING%3D1%3E%0D%0A%3CTR%3E%0D%0A%3CTD%20ALIGN%3Dcenter%3E%7B%24error%7D%3C%2FTD%3E%0D%0A%3C%2FTR%3E%0D%0A%3C%2FTABLE%3E%0D%0A%3C%2FFIELDSET%3E%0D%0A%0D%0AHTML%3B%0D%0A%7D%0D%0A%0D%0Afunction%20SXD_errorHandler(%24errno%2C%20%24errmsg%2C%20%24filename%2C%20%24linenum%2C%20%24vars)%20%7B%0D%0A%09if%20(%24errno%20%3D%3D%202048)%20return%20true%3B%0D%0A%09if%20(preg_match(%22%2Fchmod%5C(%5C).*%3F%3A%20Operation%20not%20permitted%2F%22%2C%20%24errmsg))%20return%20true%3B%0D%0A%20%20%20%20%24dt%20%3D%20date(%22Y.m.d%20H%3Ai%3As%22)%3B%0D%0A%20%20%20%20%24errmsg%20%3D%20addslashes(%24errmsg)%3B%0D%0A%0D%0A%09echo%20tpl_l(%22%7B%24dt%7D%3CBR%3E%3CB%3EA%20mistake!%3C%2FB%3E%22%2C%20C_ERROR)%3B%0D%0A%09echo%20tpl_l(%22%7B%24errmsg%7D%20(%7B%24errno%7D)%22%2C%20C_ERROR)%3B%0D%0A%09echo%20tpl_enableBack()%3B%0D%0A%09die()%3B%0D%0A%7D%0D%0A%3F%3E%0D%0A%0D%0A